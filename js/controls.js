

wApp.factory('DataGames', function () {
    return {"games":[{"date":"20160922","playerA_id":"elliot","playerA_winnerComeBack":"FALSE","playerA_selectedPosition":"2","playerA_auditorName":"Vanessa","playerA_auditorGender":"TRUE","playerA_points":"4","playerB_id":"christina","playerB_winnerComeBack":"FALSE","playerB_selectedPosition":"1","playerB_auditorName":"Gwen","playerB_auditorGender":"FALSE","playerB_points":"5","arbitrator_id":null,"winner_id":"christina"},{"date":"20160921","playerA_id":"bruno","playerA_winnerComeBack":"TRUE","playerA_selectedPosition":"1","playerA_auditorName":"Steve","playerA_auditorGender":"FALSE","playerA_points":"5","playerB_id":"vacher","playerB_winnerComeBack":"FALSE","playerB_selectedPosition":"2","playerB_auditorName":"Elodie","playerB_auditorGender":"TRUE","playerB_points":"5","arbitrator_id":"elliot","winner_id":"vacher"},{"date":"20160920","playerA_id":"bruno","playerA_winnerComeBack":"TRUE","playerA_selectedPosition":"1","playerA_auditorName":"Cl\u00e9ment","playerA_auditorGender":"FALSE","playerA_points":"5","playerB_id":"karina","playerB_winnerComeBack":"FALSE","playerB_selectedPosition":"2","playerB_auditorName":"M\u00e9gan","playerB_auditorGender":"TRUE","playerB_points":"2","arbitrator_id":null,"winner_id":"bruno"},{"date":"20160919","playerA_id":"karina","playerA_winnerComeBack":"FALSE","playerA_selectedPosition":"2","playerA_auditorName":"J\u00e9r\u00e9my","playerA_auditorGender":"FALSE","playerA_points":"5","playerB_id":"bruno","playerB_winnerComeBack":"TRUE","playerB_selectedPosition":"1","playerB_auditorName":"Anna","playerB_auditorGender":"TRUE","playerB_points":"6","arbitrator_id":null,"winner_id":"bruno"},{"date":"20160916","playerA_id":"christina","playerA_winnerComeBack":"FALSE","playerA_selectedPosition":"1","playerA_auditorName":"Flavie","playerA_auditorGender":"TRUE","playerA_points":"6","playerB_id":"bruno","playerB_winnerComeBack":"FALSE","playerB_selectedPosition":"2","playerB_auditorName":"Teddy","playerB_auditorGender":"FALSE","playerB_points":"7","arbitrator_id":null,"winner_id":"bruno"},{"date":"20160915","playerA_id":"vacher","playerA_winnerComeBack":"FALSE","playerA_selectedPosition":"1","playerA_auditorName":"Quentin","playerA_auditorGender":"FALSE","playerA_points":"6","playerB_id":"elliot","playerB_winnerComeBack":"FALSE","playerB_selectedPosition":"2","playerB_auditorName":"Cindy","playerB_auditorGender":"TRUE","playerB_points":"6","arbitrator_id":"bruno","winner_id":"vacher"},{"date":"20160914","playerA_id":"mikka","playerA_winnerComeBack":"TRUE","playerA_selectedPosition":"1","playerA_auditorName":"Alexandre","playerA_auditorGender":"FALSE","playerA_points":"3","playerB_id":"christina","playerB_winnerComeBack":"FALSE","playerB_selectedPosition":"2","playerB_auditorName":"Delphine","playerB_auditorGender":"TRUE","playerB_points":"3","arbitrator_id":"bruno","winner_id":"mikka"},{"date":"20160913","playerA_id":"mikka","playerA_winnerComeBack":"TRUE","playerA_selectedPosition":"1","playerA_auditorName":"Tanjou","playerA_auditorGender":"FALSE","playerA_points":"5","playerB_id":"vacher","playerB_winnerComeBack":"FALSE","playerB_selectedPosition":"2","playerB_auditorName":"C\u00e9line","playerB_auditorGender":"TRUE","playerB_points":"2","arbitrator_id":null,"winner_id":"mikka"},{"date":"20160912","playerA_id":"niklaas","playerA_winnerComeBack":"FALSE","playerA_selectedPosition":"2","playerA_auditorName":"Fran\u00e7ois","playerA_auditorGender":"FALSE","playerA_points":"4","playerB_id":"mikka","playerB_winnerComeBack":"TRUE","playerB_selectedPosition":"1","playerB_auditorName":"Maud","playerB_auditorGender":"TRUE","playerB_points":"4","arbitrator_id":"bruno","winner_id":"mikka"},{"date":"20160909","playerA_id":"mikka","playerA_winnerComeBack":"TRUE","playerA_selectedPosition":"1","playerA_auditorName":"Erwan","playerA_auditorGender":"FALSE","playerA_points":"6","playerB_id":"vacher","playerB_winnerComeBack":"FALSE","playerB_selectedPosition":"2","playerB_auditorName":"Marion","playerB_auditorGender":"TRUE","playerB_points":"2","arbitrator_id":null,"winner_id":"mikka"},{"date":"20160908","playerA_id":"mikka","playerA_winnerComeBack":"FALSE","playerA_selectedPosition":"2","playerA_auditorName":"Olivia","playerA_auditorGender":"TRUE","playerA_points":"5","playerB_id":"karina","playerB_winnerComeBack":"TRUE","playerB_selectedPosition":"1","playerB_auditorName":"Arnaud","playerB_auditorGender":"FALSE","playerB_points":"1","arbitrator_id":null,"winner_id":"mikka"},{"date":"20160907","playerA_id":"karina","playerA_winnerComeBack":"FALSE","playerA_selectedPosition":"2","playerA_auditorName":"J\u00e9r\u00e9my","playerA_auditorGender":"FALSE","playerA_points":"5","playerB_id":"bruno","playerB_winnerComeBack":"TRUE","playerB_selectedPosition":"1","playerB_auditorName":"Oc\u00e9ane","playerB_auditorGender":"TRUE","playerB_points":"3","arbitrator_id":null,"winner_id":"karina"},{"date":"20160906","playerA_id":"elliot","playerA_winnerComeBack":"FALSE","playerA_selectedPosition":"2","playerA_auditorName":"Kevin","playerA_auditorGender":"FALSE","playerA_points":"4","playerB_id":"bruno","playerB_winnerComeBack":"TRUE","playerB_selectedPosition":"1","playerB_auditorName":"Pauline","playerB_auditorGender":"TRUE","playerB_points":"4","arbitrator_id":"vacher","winner_id":"bruno"},{"date":"20160905","playerA_id":"bruno","playerA_winnerComeBack":"FALSE","playerA_selectedPosition":"2","playerA_auditorName":"Jessy","playerA_auditorGender":"TRUE","playerA_points":"6","playerB_id":"vacher","playerB_winnerComeBack":"TRUE","playerB_selectedPosition":"1","playerB_auditorName":"Mathieu","playerB_auditorGender":"FALSE","playerB_points":"3","arbitrator_id":null,"winner_id":"bruno"},{"date":"20160902","playerA_id":"christina","playerA_winnerComeBack":"FALSE","playerA_selectedPosition":"2","playerA_auditorName":"Yohann","playerA_auditorGender":"FALSE","playerA_points":"3","playerB_id":"vacher","playerB_winnerComeBack":"TRUE","playerB_selectedPosition":"1","playerB_auditorName":"H\u00e9lo\u00efse","playerB_auditorGender":"TRUE","playerB_points":"6","arbitrator_id":null,"winner_id":"vacher"},{"date":"20160901","playerA_id":"vacher","playerA_winnerComeBack":"TRUE","playerA_selectedPosition":"1","playerA_auditorName":"Esteban","playerA_auditorGender":"FALSE","playerA_points":"7","playerB_id":"bruno","playerB_winnerComeBack":"FALSE","playerB_selectedPosition":"2","playerB_auditorName":"Aline","playerB_auditorGender":"TRUE","playerB_points":"5","arbitrator_id":null,"winner_id":"vacher"},{"date":"20160831","playerA_id":"vacher","playerA_winnerComeBack":"TRUE","playerA_selectedPosition":"1","playerA_auditorName":"Julie","playerA_auditorGender":"TRUE","playerA_points":"5","playerB_id":"christina","playerB_winnerComeBack":"FALSE","playerB_selectedPosition":"2","playerB_auditorName":"Bastien","playerB_auditorGender":"FALSE","playerB_points":"3","arbitrator_id":null,"winner_id":"vacher"},{"date":"20160830","playerA_id":"vacher","playerA_winnerComeBack":"FALSE","playerA_selectedPosition":"2","playerA_auditorName":"Justine","playerA_auditorGender":"TRUE","playerA_points":"6","playerB_id":"elliot","playerB_winnerComeBack":"TRUE","playerB_selectedPosition":"1","playerB_auditorName":"Claudio","playerB_auditorGender":"FALSE","playerB_points":"4","arbitrator_id":null,"winner_id":"vacher"},{"date":"20160829","playerA_id":"elliot","playerA_winnerComeBack":"FALSE","playerA_selectedPosition":"1","playerA_auditorName":"Sarah","playerA_auditorGender":"TRUE","playerA_points":"4","playerB_id":"bruno","playerB_winnerComeBack":"FALSE","playerB_selectedPosition":"2","playerB_auditorName":"Julien","playerB_auditorGender":"FALSE","playerB_points":"4","arbitrator_id":"christina","winner_id":"elliot"}]};
    
});

wApp.factory('StatsTeams', function () {
    return {"stats":{"bruno":{"bestScore":{"a":{"value":"7","subvalue":"20160916"},"b":{"value":"6","subvalue":"20160905"},"c":{"value":"6","subvalue":"20160919"}},"gameWinWithFemale":{"value":"3"},"gameWithFemale":{"value":"5"},"lastGame":{"value":"20160829"},"lastLoose":{"value":"20160829"},"lastWin":{"value":"20160905"},"nbArbitration":{"value":"3"},"nbDraw":{"value":"3"},"nbDrawWin":{"value":"1"},"nemesisIs":{"a":{"value":"vacher","subvalue":"2"},"b":{"value":"elliot","subvalue":"1"},"c":{"value":"karina","subvalue":"1"}},"nemesisOf":{"a":{"value":"karina","subvalue":"2"},"b":{"value":"elliot","subvalue":"1"},"c":{"value":"christina","subvalue":"1"}},"totalGame":{"value":"9"},"winGame":{"value":"5"}},"christina":{"bestScore":{"a":{"value":"6","subvalue":"20160916"},"b":{"value":"5","subvalue":"20160922"},"c":{"value":"3","subvalue":"20160902"}},"gameWinWithFemale":{"value":"0"},"gameWithFemale":{"value":"2"},"lastGame":{"value":"20160831"},"lastLoose":{"value":"20160831"},"lastWin":{"value":"20160922"},"nbArbitration":{"value":"1"},"nbDraw":{"value":"1"},"nbDrawWin":{"value":"0"},"nemesisIs":{"a":{"value":"vacher","subvalue":"2"},"b":{"value":"bruno","subvalue":"1"},"c":{"value":"mikka","subvalue":"1"}},"nemesisOf":{"a":{"value":"elliot","subvalue":"1"},"b":{"value":null,"subvalue":null},"c":{"value":null,"subvalue":null}},"totalGame":{"value":"5"},"winGame":{"value":"1"}},"elliot":{"bestScore":{"a":{"value":"6","subvalue":"20160915"},"b":{"value":"4","subvalue":"20160829"},"c":{"value":"4","subvalue":"20160906"}},"gameWinWithFemale":{"value":"1"},"gameWithFemale":{"value":"3"},"lastGame":{"value":"20160829"},"lastLoose":{"value":"20160830"},"lastWin":{"value":"20160829"},"nbArbitration":{"value":"1"},"nbDraw":{"value":"3"},"nbDrawWin":{"value":"1"},"nemesisIs":{"a":{"value":"vacher","subvalue":"2"},"b":{"value":"christina","subvalue":"1"},"c":{"value":"bruno","subvalue":"1"}},"nemesisOf":{"a":{"value":"bruno","subvalue":"1"},"b":{"value":null,"subvalue":null},"c":{"value":null,"subvalue":null}},"totalGame":{"value":"5"},"winGame":{"value":"1"}},"vacher":{"bestScore":{"a":{"value":"7","subvalue":"20160901"},"b":{"value":"6","subvalue":"20160830"},"c":{"value":"6","subvalue":"20160915"}},"gameWinWithFemale":{"value":"4"},"gameWithFemale":{"value":"6"},"lastGame":{"value":"20160830"},"lastLoose":{"value":"20160905"},"lastWin":{"value":"20160830"},"nbArbitration":{"value":"1"},"nbDraw":{"value":"2"},"nbDrawWin":{"value":"2"},"nemesisIs":{"a":{"value":"mikka","subvalue":"2"},"b":{"value":"bruno","subvalue":"1"},"c":{"value":null,"subvalue":null}},"nemesisOf":{"a":{"value":"christina","subvalue":"2"},"b":{"value":"bruno","subvalue":"2"},"c":{"value":"elliot","subvalue":"2"}},"totalGame":{"value":"9"},"winGame":{"value":"6"}},"karina":{"bestScore":{"a":{"value":"5","subvalue":"20160907"},"b":{"value":"5","subvalue":"20160919"},"c":{"value":"2","subvalue":"20160920"}},"gameWinWithFemale":{"value":"0"},"gameWithFemale":{"value":"1"},"lastGame":{"value":"20160907"},"lastLoose":{"value":"20160908"},"lastWin":{"value":"20160907"},"nbArbitration":{"value":"0"},"nbDraw":{"value":"0"},"nbDrawWin":{"value":"0"},"nemesisIs":{"a":{"value":"bruno","subvalue":"2"},"b":{"value":"mikka","subvalue":"1"},"c":{"value":null,"subvalue":null}},"nemesisOf":{"a":{"value":"bruno","subvalue":"1"},"b":{"value":null,"subvalue":null},"c":{"value":null,"subvalue":null}},"totalGame":{"value":"4"},"winGame":{"value":"1"}},"mikka":{"bestScore":{"a":{"value":"6","subvalue":"20160909"},"b":{"value":"5","subvalue":"20160908"},"c":{"value":"5","subvalue":"20160913"}},"gameWinWithFemale":{"value":"2"},"gameWithFemale":{"value":"2"},"lastGame":{"value":"20160908"},"lastLoose":{"value":null},"lastWin":{"value":"20160908"},"nbArbitration":{"value":"0"},"nbDraw":{"value":"2"},"nbDrawWin":{"value":"2"},"nemesisIs":{"a":{"value":null,"subvalue":null},"b":{"value":null,"subvalue":null},"c":{"value":null,"subvalue":null}},"nemesisOf":{"a":{"value":"vacher","subvalue":"2"},"b":{"value":"christina","subvalue":"1"},"c":{"value":"niklaas","subvalue":"1"}},"totalGame":{"value":"5"},"winGame":{"value":"5"}},"niklaas":{"bestScore":{"a":{"value":"4","subvalue":"20160912"},"b":{"value":null,"subvalue":null},"c":{"value":null,"subvalue":null}},"gameWinWithFemale":{"value":"0"},"gameWithFemale":{"value":"0"},"lastGame":{"value":"20160912"},"lastLoose":{"value":"20160912"},"lastWin":{"value":null},"nbArbitration":{"value":"0"},"nbDraw":{"value":"1"},"nbDrawWin":{"value":"0"},"nemesisIs":{"a":{"value":"mikka","subvalue":"1"},"b":{"value":null,"subvalue":null},"c":{"value":null,"subvalue":null}},"nemesisOf":{"a":{"value":null,"subvalue":null},"b":{"value":null,"subvalue":null},"c":{"value":null,"subvalue":null}},"totalGame":{"value":"1"},"winGame":{"value":"0"}}}};
    
});

wApp.factory('DataTeams', function () {
    return {
              "teams": [
                {
                  "id": "primary",
                  "name": "L'animateur et les co-animateurs",
                  "info": "Ceux qui jouent le plus au jeu des 30 secondes.",
                  "players": [
                    "bruno",
                    "christina",
                    "elliot",
                    "vacher"
                  ]
                },
                {
                  "id": "secondary",
                  "name": "L'équipe au sens large",
                  "info": "Ce sont aussi eux qui font le show.",
                  "players": [
                    "karina",
                    "mikka",
                    "niklaas"
                  ]
                }
              ]
            };
    
});


wApp.factory('DataAllStats', function () {
    return {"allstats":{"table":[{"id":"bruno","win":"5","defeat":"4","total":"9"},{"id":"christina","win":"1","defeat":"4","total":"5"},{"id":"elliot","win":"1","defeat":"4","total":"5"},{"id":"vacher","win":"6","defeat":"3","total":"9"},{"id":"karina","win":"1","defeat":"3","total":"4"},{"id":"mikka","win":"5","defeat":"0","total":"5"},{"id":"niklaas","win":"0","defeat":"1","total":"1"}],"totalGame":"19","totalArbitratorGame":"6","totalPoints":"169","lastDate":"20160922"}};
    
});


wApp.factory('DataPlayers', function () {
    return {"players":[{"id":"bruno","surname":"Bruno","completename":"Bruno Guillon","social":{"twitter":"brunoguillonoff","facebook":"brunoguillonoff","instagram":"brunoguillonoff","snapchat":"brunodanslaradio"},"gender":"FALSE","team":"primary"},{"id":"christina","surname":"Christina","completename":"Christina Guilloton","social":{"twitter":"ChristinaNININI","facebook":"ChristinaNININI","instagram":"","snapchat":""},"gender":"TRUE","team":"primary"},{"id":"elliot","surname":"Elliot","completename":"Elliot Chemlekh","social":{"twitter":"Elliotoff","facebook":"","instagram":"","snapchat":""},"gender":"FALSE","team":"primary"},{"id":"vacher","surname":"Vacher","completename":"Gr\u00e9gory Vacher","social":{"twitter":"vacheeeer","facebook":"Vacheeeer","instagram":"vacher","snapchat":"vacheeeer"},"gender":"FALSE","team":"primary"},{"id":"karina","surname":"Karina","completename":"Karina Siamer","social":{"twitter":"karinasiamer","facebook":"","instagram":"karinasiamer","snapchat":"karina.siamer"},"gender":"TRUE","team":"secondary"},{"id":"mikka","surname":"Mikka","completename":"Mikka Rocchia","social":{"twitter":"mikkarocchia","facebook":"","instagram":"mikkarocchia","snapchat":"mikkarocchia"},"gender":"FALSE","team":"secondary"},{"id":"niklaas","surname":"Niklaas du web","completename":"Niklaas","social":{"twitter":"Niklaas_OnAir","facebook":"","instagram":"djniklaas","snapchat":"Niklaas-881837858498120"},"gender":"FALSE","team":"secondary"}]};
    
});



wApp.controller('WListAllStatsCtrl', function ($scope, DataPlayers, DataAllStats, DataGames) {
    
    $scope.games = DataGames.games;
    $scope.allstats = DataAllStats.allstats;
    $scope.players = DataPlayers.players;
    
      $scope.sortType     = 'win'; // set the default sort type
      $scope.sortReverse  = true;  // set the default sort order
    
    $scope.findSurnameById = function(idTeam) {
        return $scope.players.filter(function(data) {
          return data.id === idTeam
        })[0].surname;
      }
    
});


wApp.controller('WListPlayersCtrl', function ($scope, DataTeams, DataPlayers) {
    
    $scope.teams = DataTeams.teams;
    $scope.players = DataPlayers.players;
    $scope.primaryTeamFilter = function( item ) {
        if( item.team == "primary" ) {
            return item;
        }
        return ;
    }
    
    $scope.findPlayerById = function(idPlayer) {
        return $scope.players.filter(function(data) {
          return data.id === idPlayer
        })[0];
      }
    
});

wApp.controller('WPlayerCtrl', function ($scope, DataTeams, DataPlayers, StatsTeams, DataAllStats) {
    
    $scope.teams = DataTeams.teams;
    $scope.players = DataPlayers.players;
    $scope.stats = StatsTeams.stats;
    $scope.allstats = DataAllStats.allstats;
    
    $scope.sPlayer = null;
    $scope.sStat = null;
    
    $scope.changePlayer = function(idPlayer) {
        
        console.log("changePlayer idPlayer = ", idPlayer);
        switchBlockT('blockPlayer', idPlayer);
        
        $scope.players.filter(function(element){
            if ( element.id === idPlayer) {
                $scope.sPlayer = element;
                return;
            }
        });
        $scope.sStat = $scope.stats[$scope.sPlayer.id];
        
        participationPB.animate($scope.sStat.totalGame.value / $scope.allstats.totalGame);
        winGamePB.animate($scope.sStat.winGame.value / $scope.sStat.totalGame.value);
        genderRepPB.animate($scope.sStat.gameWithFemale.value / $scope.sStat.totalGame.value);
        arbitrePB.animate($scope.sStat.nbArbitration.value / $scope.allstats.totalArbitratorGame);
        
    }
    
    $scope.findTeamById = function(idTeam) {
        return $scope.teams.filter(function(data) {
          return data.id === idTeam
        })[0];
      }
    
    $scope.findPlayerById = function(idTeam) {
        return $scope.players.filter(function(data) {
          return data.id === idTeam
        })[0];
      }
    
    
});
